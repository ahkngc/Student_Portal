{% extends "base.html" %}
{% block content %}
<h1>Search</h1>

<div class="card">
  <form method="get" action="{{ url_for('search.search_page') }}">
    <input name="q" placeholder="Search courses or announcements..." value="{{ q }}">
    <button class="btn btn-primary" type="submit">Search</button>
  </form>
</div>

<div class="grid">
  <div class="card">
    <h2>Courses</h2>
    {% if course_results %}
      <ul>
        {% for c in course_results %}
          <li>{{ c.code }} — {{ c.title }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="muted">No course results.</p>
    {% endif %}
  </div>

  <div class="card">
    <h2>Announcements</h2>
    {% if announcement_results %}
      <ul>
        {% for a in announcement_results %}
          <li><b>{{ a.title }}</b> — {{ a.body[:60] }}...</li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="muted">No announcement results.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
